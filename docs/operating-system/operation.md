# Linux 操作
## gdb 怎么用？
GDB (GNU Debugger) 是一个强大的 UNIX 系统下的程序调试工具。下面是 GDB 的基本使用方法：

1. **启动 GDB**
    使用 gdb 命令启动 GDB。例如，如果要调试一个名为 `a.out` 的程序，可以这样做：
    ```bash
    gdb a.out
    ```

2. **设置断点 (breakpoint)**
    在程序的特定位置设置断点，当程序运行到该位置时，它会暂停执行，以便你可以检查程序状态。
    ```bash
    break main             # 在 main 函数处设置断点
    break filename.c:42    # 在 filename.c 的第42行设置断点
    ```

3. **运行程序**
    ```bash
    run (或 r) [arguments]  # 运行程序，并传递参数给它 (如果有的话)
    ```

4. **程序控制**
    当程序在断点处停止时，你可以使用以下命令控制它：
    - `next (或 n)`: 单步执行，但不进入函数。
    - `step (或 s)`: 单步执行，进入函数。
    - `continue (或 c)`: 继续执行程序直到下一个断点或程序结束。
    - `finish`: 运行程序直到当前函数完成。

5. **检查程序状态**
    - `list (或 l)`: 显示当前代码的上下文。
    - `print (或 p) variable`: 打印变量的值。
    - `info locals`: 显示局部变量。
    - `info registers`: 显示寄存器内容。
    - `backtrace (或 bt)`: 显示函数调用栈。

6. **修改程序状态**
    - `set variable x=5`: 将变量 x 的值设置为 5。

7. **退出 GDB**
    ```bash
    quit (或 q)
    ```

8. **其他常用命令**
    - `info breakpoints`: 显示所有断点。
    - `delete breakpoint_number`: 删除指定编号的断点。
    - `clear filename.c:42`: 删除在 filename.c 的第42行的断点。
    - `watch variable`: 当变量的值发生变化时中断。
    - `disable breakpoint_number`: 禁用指定编号的断点，但不删除。
    - `enable breakpoint_number`: 启用之前禁用的断点。

注意，最好在编译程序时使用 `-g` 选项，这样 GDB 可以获取到更多的调试信息。

## 如何查看连接的端口号？
如果你想查看在你的系统上哪些端口号被使用（即哪些端口正在监听或建立的连接），你可以使用多种方法，具体取决于你的操作系统。以下是一些常见的方法：

1. **使用 `netstat` 命令**
```bash
netstat -tuln   # 显示所有正在监听的 TCP/UDP 端口
```

2. **使用 `lsof` 命令**
```bash
lsof -i        # 显示所有网络连接
lsof -i :22    # 查找特定端口（例如端口22）的连接
```

3. **使用 `ss` 命令** (`ss` 是现代 Linux 系统上 `netstat` 的替代品)
```bash
ss -tuln       # 显示所有正在监听的 TCP/UDP 端口
```

## `/proc` 文件夹是什么
在 Linux 系统中，`/proc` 是一个特殊的虚拟文件系统，用于内核与用户空间进程的通信。它不是一个实际的文件系统，如 ext4 或 xfs，而是一个运行时的文件系统，所以它不占用磁盘空间。其内容是在内存中动态生成的。

`/proc` 包含了许多关于系统状态的信息，其中大部分是关于正在运行的进程的信息。这些信息以文件和目录的形式表示，可以通过常规的文件读取命令（如 `cat` 和 `less`）来访问。

以下是 `/proc` 中的一些常见条目及其描述：

1. **进程目录**：对于每个进程，`/proc` 都有一个以进程 ID 命名的目录。这些目录包含了关于各个进程的信息。 例如：`/proc/1/` 是 PID 为 1 的进程（通常是 init 或 systemd）的目录。

2. **`/proc/cpuinfo`**：包含了关于系统 CPU 的详细信息。

3. **`/proc/meminfo`**：显示了系统内存的使用情况。

4. **`/proc/version`**：显示了正在运行的 Linux 版本信息。

5. **`/proc/filesystems`**：列出了系统所支持的文件系统类型。

6. **`/proc/mounts`**：列出了当前的挂载点。

7. **`/proc/net/`**：包含了与网络相关的各种信息。

8. **`/proc/sys/`**：包含了可以改变的内核参数。例如，通过 sysctl 命令可以修改这些参数。

由于 `/proc` 提供了丰富的信息和配置接口，它被许多系统工具和命令用于查询和设置系统状态。例如，`ps`、`top` 和许多其他系统监视工具都依赖 `/proc` 中的信息来工作。

## 如何查看 IO 利用率？
在 Linux 系统上，有多种工具可以用来查看 I/O 利用率和其他相关的性能指标。

1. **iostat**

    `iostat` 是 `sysstat` 包的一部分，它可以提供 CPU 统计信息和输入/输出统计信息。要查看所有磁盘的 I/O 统计信息，可以使用：

    ```bash
    iostat -dx 1
    ```

    这个命令每秒刷新一次 I/O 统计信息。你可以看到 `%util` 列，它显示了每个设备的 I/O 利用率。

2. **vmstat**

    `vmstat` 可以显示关于系统虚拟内存、进程、CPU 活动等的报告。其中一部分数据涉及 I/O：

    ```bash
    vmstat 1
    ```

    这个命令每秒刷新一次输出。关于 I/O 的列有 `bi` (块输入) 和 `bo` (块输出)。

